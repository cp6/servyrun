import{A as x}from"./AuthenticatedLayout-b0ac98cc.js";import{u as l,b as y,j as r,a as e,H as N}from"./app-7082a047.js";import{I as n}from"./InputLabel-04829bce.js";import{T as i,I as m}from"./TextInput-38986df9.js";import{S as d}from"./Toast-a9c7a83a.js";import"./Table-13305096.js";import{P as b}from"./PrimaryButton-aae876dd.js";import{R as k}from"./Alert-af0dbb46.js";import{B as w}from"./BackButton-c0685269.js";import"./ApplicationLogo-db4f8950.js";import"./transition-eb04b526.js";import"./index.esm-eebfcfab.js";function T({auth:c}){const p=l().props.alert,u=l().props.keys,h=l().props.servers,{data:t,setData:s,post:g,processing:v,reset:_,errors:o}=y({server_id:"",username:"root",ssh_port:"22",key_id:"",password:""}),f=a=>{a.preventDefault(),g(route("connection.store")),navigate(route("connection.index"))};return r(x,{auth:c,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Create connection"}),children:[e(N,{title:"Create connection"}),r("div",{className:"py-8 px-2 mx-auto max-w-7xl lg:py-10",children:[e("div",{className:"flex flex-wrap gap-2 mb-4",children:e(w,{href:route("connection.index"),children:"Back to connections"})}),e(k,{details:p}),e("section",{className:"bg-white dark:bg-gray-700 overflow-hidden shadow-sm sm:rounded-lg p-2 sm:p-6",children:r("form",{onSubmit:f,children:[r("div",{className:"grid gap-2 sm:grid-cols-1 md:grid-cols-4 sm:gap-4",children:[r("div",{className:"sm:col-span-4 col-span-4",children:[e("div",{className:"mb-2 block",children:e(n,{forInput:"server_id",value:"Server"})}),r(d,{onChange:a=>s("server_id",a.target.value),name:"server_id",required:!0,value:t.server_id,handleChange:a=>s("server_id",a.target.value),children:[e("option",{value:"",children:"Choose one"}),h.map(a=>r("option",{value:a.id,children:[a.title," (",a.hostname,")"]},a.id))]})]}),r("div",{className:"sm:col-span-2 col-span-4",children:[e(n,{forInput:"username",value:"Username"}),e(i,{id:"username",name:"username",value:t.username,className:"mt-1 block w-full",autoComplete:"username",handleChange:a=>s("username",a.target.value),maxLength:64,required:!0}),e(m,{message:o.username,className:"mt-2"})]}),r("div",{className:"sm:col-span-2 col-span-4",children:[e(n,{forInput:"ssh_port",value:"SSH port"}),e(i,{type:"number",name:"ssh_port",className:"mt-1 block w-full",autoComplete:"ssh_port",value:t.ssh_port,handleChange:a=>s("ssh_port",a.target.value),required:!0}),e(m,{message:o.ssh_port,className:"mt-2"})]}),e("p",{children:e("a",{className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",href:route("key.index"),children:"Manage keys"})}),r("div",{className:"sm:col-span-4 col-span-4",children:[e("div",{className:"mb-2 block",children:e(n,{forInput:"key_id",value:"Key"})}),r(d,{onChange:a=>s("key_id",a.target.value),name:"key_id",value:t.key_id,handleChange:a=>s("key_id",a.target.value),children:[e("option",{value:"",children:"None. Use password"}),u.map(a=>e("option",{value:a.id,children:a.original_name},a.id))]})]}),e("div",{className:"mt-2 sm:col-span-4 col-span-4",children:e("p",{className:"text-gray-500 dark:text-gray-400",children:"Passwords are stored encrypted"})}),r("div",{className:"col-span-4",children:[e(n,{forInput:"password",value:"Password"}),e(i,{name:"password",className:"mt-1 block w-full",autoComplete:"password",value:t.password,handleChange:a=>s("password",a.target.value)}),e(m,{message:o.password,className:"mt-2"})]})]}),e(b,{className:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800",processing:v,children:"Create Connection"})]})})]})]})}export{T as default};
