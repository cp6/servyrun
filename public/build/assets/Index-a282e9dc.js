import{A as o}from"./AuthenticatedLayout-b0ac98cc.js";import{a as e,r as d,F as m,u as l,j as t,H as c}from"./app-7082a047.js";import{d as u}from"./index.esm-eebfcfab.js";import{R as p}from"./Alert-af0dbb46.js";import{A as x}from"./AddButton-bf9b47af.js";import{a as h}from"./axios-4a70c6fc.js";import{F as g}from"./index.esm-d4b60c73.js";import{R as f}from"./ResourceEmptyText-25c44e25.js";import"./ApplicationLogo-db4f8950.js";import"./transition-eb04b526.js";import"./Toast-a9c7a83a.js";import"./Table-13305096.js";function y({href:i,className:s="",children:n,onClick:r,disabled:a}){return e("a",{href:i,onClick:r,className:`text-white bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-600 dark:hover:bg-emerald-700 border border-transparent focus:ring-4 focus:ring-emerald-300 disabled:hover:bg-emerald-700 dark:focus:ring-emerald-900 dark:disabled:hover:bg-emerald-600 focus:!ring-2 group flex h-min items-center justify-center p-0.5 text-sm focus:z-10 inline-flex items-center rounded-lg px-5 py-1.5 text-center hover:cursor-pointer ${a?"pointer-events-none cursor-progress":""}`+s,children:e("span",{className:"flex items-center rounded-md",children:n})})}function b({resource:i}){const[s,n]=d.useState(null);async function r(a){return await(await h.get(route("connection.authenticated",a.id))).data}return d.useEffect(()=>{r(i).then(a=>{n(a.result)})},[]),e(m,{children:e(g,{className:(()=>s?"md:ml-2 ml-1 h-3 w-3 text-green-300 dark:text-green-400 inline":s===null?"md:ml-2 ml-1 h-3 w-3 text-gray-300 dark:text-gray-500 inline":"md:ml-2 ml-1 h-3 w-3 text-red-300 dark:text-red-400 inline")(),title:(()=>s?"Able to connect":s===null?"unknown":"NOT able to connect")()})})}function P({auth:i}){const s=l().props.alert,n=l().props.connections;return t(o,{auth:i,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Server connections"}),children:[e(c,{title:"Server connections"}),t("div",{className:"py-8 px-1 mx-auto max-w-7xl lg:py-10",children:[t("div",{className:"flex flex-wrap gap-2 mb-4",children:[e(x,{href:route("connection.create"),children:"Add a connection"}),t(y,{href:route("key.index"),children:[e(u,{className:"mr-2 h-5 w-5"}),"Keys"]})]}),e(p,{details:s}),e("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-4 sm:gap-4",children:n.length===0?e(f,{resource:"connections"}):n.map(r=>e("section",{className:"bg-white/50 dark:bg-gray-700 rounded-lg shadow-sm hover:cursor-pointer",onClick:a=>window.location.href=route("connection.show",r.id),children:t("div",{className:"md:py-2 py-4 px-2 mx-auto max-w-6xl",children:[t("div",{className:"flex items-center justify-between mb-3",children:[t("div",{children:[e("span",{className:"bg-indigo-200 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300",children:(()=>typeof r.key_id<"u"&&r.key_id!==null?"KEY":typeof r.hashed_password<"u"&&n.hashed_password!==null?"HASH PASSWORD":"PASSWORD")()}),t("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:["PORT ",r.ssh_port]})]}),e("small",{className:"text-end",children:e(b,{resource:r})})]}),t("div",{className:"flex flex-col justify-center items-center pb-3",children:[e("h5",{className:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:r.username}),e("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.server.hostname})]})]})},r.id))})]})]})}export{P as default};
