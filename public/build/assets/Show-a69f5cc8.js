import{A as h}from"./AuthenticatedLayout-c4be06bd.js";import{u as l,r as p,j as a,a as e,H as u}from"./app-a8d4275f.js";import{R as g}from"./Alert-d503f44b.js";import{H as b,j as y,k as f}from"./index.esm-2010c99b.js";import{a as w}from"./axios-4a70c6fc.js";import{B as k}from"./BackButton-2b60c346.js";import"./ApplicationLogo-ae419612.js";import"./transition-fbe58e1e.js";import"./Toast-ee00046f.js";import"./Table-f19b692a.js";function M({auth:d}){const n=l().props.alert;l().props.resource;const s=l().props.database,r=l().props.table,o=l().props.columns,i=l().props.auth.user,[N,m]=p.useState(!1),x=()=>{const t={headers:{Authorization:`Bearer ${i.api_token}`}};w.get(route("api.db.table.refresh",[s.id,r.id]),t).then(c=>{window.location.reload()}).catch(c=>{console.log("Error refreshing columns")})};return a(h,{auth:d,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:r.name+" table columns"}),children:[e(u,{title:r.name+" table columns"}),a("div",{className:"py-8 sm:px-0 px-1 mx-auto max-w-7xl lg:py-10",children:[e("div",{className:"flex flex-wrap gap-2 mb-4",children:e(k,{href:route("db.show.tables",s.id),children:"Back to database tables"})}),e(g,{details:n}),e("section",{className:"bg-white/50 dark:bg-gray-700 rounded-lg shadow-sm",children:a("div",{className:"py-4 px-4 mx-auto max-w-7xl",children:[a("div",{className:"flex items-center justify-between",children:[a("div",{children:[a("h2",{className:"mb-3 text-xl font-bold leading-none text-gray-900 md:text-2xl dark:text-white",children:[s.name,", ",r.name," table columns"]}),e("p",{className:"mb-4 text-sm text-gray-900 dark:text-white",children:"Click column name to download as array"})]}),a("small",{className:"text-end",children:[e(b,{className:"mr-2 h-6 w-6 text-gray-600 dark:text-white hover:text-gray-700 hover:dark:text-gray-300 inline hover:cursor-pointer",onClick:()=>m(!0),title:"Delete columns"}),e(y,{className:"md:ml-2 ml-1 h-6 w-6 text-gray-600 dark:text-white inline hover:cursor-pointer",onClick:x,title:"Refresh columns"}),e(f,{className:"md:ml-3 ml-2 h-6 w-6 text-gray-600 dark:text-white inline hover:cursor-pointer",onClick:t=>window.location.href=route("db.table.columns.download",[s.id,r.id]),title:"Download as JSON"})]})]}),e("ul",{className:"max-w-3xl space-y-1 text-gray-500 list-none list-inside dark:text-gray-400",children:o.map(t=>a("li",{children:[e("span",{className:"text-gray-900 dark:text-gray-200",children:e("a",{href:route("db.table.columns.download.single",[s.id,r.id,t.id]),children:t.name})}),e("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",children:t.type}),t.is_nullable===1?e("span",{className:"ml-1 bg-indigo-100 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300",children:"nullable"}):e("span",{className:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"NOT nullable"}),t.default!==null?a("span",{className:"ml-1 bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:["Default: ",t.default]}):null,t.key!==null?a("span",{className:"ml-1 bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300",children:["Key: ",t.key]}):null,t.extra!==null?a("span",{className:"ml-1 bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300",children:["Extra: ",t.extra]}):null]},t.id))})]})})]})]})}export{M as default};
