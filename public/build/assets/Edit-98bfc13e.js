import{A as f}from"./AuthenticatedLayout-c4be06bd.js";import{u as i,b as _,j as t,a as e,H as b}from"./app-a8d4275f.js";import{I as r}from"./InputLabel-a7ee92ff.js";import{T as m,I as c}from"./TextInput-1e9aadbd.js";import{S as d}from"./Toast-ee00046f.js";import"./Table-f19b692a.js";import{R as x}from"./Alert-d503f44b.js";import{B as N}from"./BackButton-2b60c346.js";import{U as y}from"./UpdateButton-5faf9e0a.js";import"./ApplicationLogo-ae419612.js";import"./transition-fbe58e1e.js";import"./index.esm-2010c99b.js";function A({auth:p}){const u=i().props.alert,s=i().props.resource,{data:o,setData:l,patch:h,processing:v,reset:k,errors:n}=_({save_to:s.save_to,save_as:s.save_as,option:s.option,compress:s.compress,custom_flags:s.custom_flags,these_tables:s.these_tables}),g=a=>{a.preventDefault(),h(route("mysqldump.update",s.id)),navigate(route("mysqldump.show",s.id))};return t(f,{auth:p,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Edit MySQL dump"}),children:[e(b,{title:"Edit MySQL dump"}),t("div",{className:"py-8 px-2 mx-auto max-w-7xl lg:py-10",children:[e("div",{className:"flex flex-wrap gap-2 mb-4",children:e(N,{href:route("mysqldump.show",s.id),children:"Back to MySQL dump"})}),e(x,{details:u}),t("div",{className:"bg-white dark:bg-gray-700 overflow-hidden shadow-sm sm:rounded-lg p-2 sm:p-6",children:[t("h1",{className:"text-lg text-gray-800 dark:text-white mb-2",children:[e("span",{className:"text-gray-600 dark:text-gray-300",children:"Database:"})," ",s.database.name," (",s.database_conn.host,")",e("span",{className:"text-gray-600 dark:text-gray-300",children:" DB user:"})," ",s.database_conn.username," ",e("span",{className:"text-gray-600 dark:text-gray-300",children:"Server:"})," ",s.server.hostname," (",s.server.title,")"]}),t("form",{onSubmit:g,children:[t("div",{className:"grid gap-2 sm:grid-cols-1 md:grid-cols-6 sm:gap-4",children:[t("div",{className:"sm:col-span-3 col-span-4",children:[e(r,{forInput:"save_to",value:"Save to"}),e(m,{name:"save_to",className:"mt-1 block w-full",autoComplete:"save_to",value:o.save_to,handleChange:a=>l("save_to",a.target.value),maxLength:64}),e(c,{message:n.save_to,className:"mt-2"})]}),t("div",{className:"sm:col-span-3 col-span-4",children:[e(r,{forInput:"save_as",value:"Save as"}),e(m,{name:"save_as",className:"mt-1 block w-full",autoComplete:"save_as",value:o.save_as,handleChange:a=>l("save_as",a.target.value),maxLength:64}),e(c,{message:n.save_as,className:"mt-2"})]}),t("div",{className:"sm:col-span-2 col-span-4",children:[e("div",{className:"mb-2 block",children:e(r,{forInput:"option",value:"Options"})}),t(d,{onChange:a=>l("option",a.target.value),name:"option",required:!0,value:o.option,handleChange:a=>l("option",a.target.value),children:[e("option",{value:"0",children:"None"}),e("option",{value:"1",children:"--quick"}),e("option",{value:"2",children:"--opt"}),e("option",{value:"3",children:"--add-locks"}),e("option",{value:"4",children:"--single-transaction"})]})]}),t("div",{className:"sm:col-span-2 col-span-4",children:[e(r,{forInput:"custom_flags",value:"Custom flags"}),e(m,{name:"custom_flags",className:"mt-1 block w-full",autoComplete:"custom_flags",value:o.custom_flags,handleChange:a=>l("custom_flags",a.target.value),maxLength:64}),e(c,{message:n.custom_flags,className:"mt-2"})]}),t("div",{className:"sm:col-span-1 col-span-4",children:[e("div",{className:"mb-2 block",children:e(r,{forInput:"compress",value:"Compress"})}),t(d,{onChange:a=>l("compress",a.target.value),name:"compress",required:!0,value:o.compress,handleChange:a=>l("compress",a.target.value),children:[e("option",{value:"0",children:"No"}),e("option",{value:"1",children:"Yes"})]})]}),t("div",{className:"col-span-6",children:[e(r,{forInput:"these_tables",value:"These tables only (separate by space)"}),e(m,{name:"these_tables",className:"mt-1 block w-full",autoComplete:"these_tables",value:o.these_tables,handleChange:a=>l("these_tables",a.target.value),maxLength:255}),e(c,{message:n.these_tables,className:"mt-2"})]})]}),e(y,{processing:v,children:"Update MySQL dump"})]})]})]})]})}export{A as default};
