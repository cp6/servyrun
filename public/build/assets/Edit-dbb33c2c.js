import{A as w}from"./AuthenticatedLayout-c4be06bd.js";import{u as d,r as y,b as k,j as t,a as e,H as B}from"./app-a8d4275f.js";import{I as i}from"./InputLabel-a7ee92ff.js";import{T as c,I as u}from"./TextInput-1e9aadbd.js";import{M as p,B as h}from"./Toast-ee00046f.js";import"./Table-f19b692a.js";import{D as C}from"./DangerButton-dd3abfc4.js";import{U as E}from"./UpdateButton-5faf9e0a.js";import{B as I}from"./BackButton-2b60c346.js";import"./ApplicationLogo-ae419612.js";import"./transition-fbe58e1e.js";import"./index.esm-2010c99b.js";function z({auth:f}){d().props.servers;const r=d().props.resource,[g,o]=y.useState(!1),{data:m,setData:s,patch:x,processing:v,errors:l}=k({title:r.title,command:r.command}),N=a=>{a.preventDefault(),x(route("command.update",r.id))},b=()=>{const a={method:"DELETE",headers:{"X-CSRF-TOKEN":document.getElementsByName("csrf-token")[0].getAttribute("content")}};fetch(route("command.destroy",r.id),a).then(n=>{n.redirected&&(window.location.href=n.url)})};return t(w,{auth:f,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Edit Command"}),children:[e(B,{title:"Edit command"}),t("div",{className:"py-8 px-2 mx-auto max-w-7xl lg:py-10",children:[e("div",{className:"flex flex-wrap gap-2 mb-4",children:e(I,{href:route("command.index"),children:"Back to commands"})}),e("div",{className:"bg-white dark:bg-gray-700 overflow-hidden shadow-sm sm:rounded-lg p-2 sm:p-6",children:t("form",{onSubmit:N,children:[t("div",{className:"grid gap-2 sm:grid-cols-2 sm:gap-4",children:[t("div",{className:"col-span-4",children:[e(i,{forInput:"title",value:"Title"}),e(c,{name:"title",value:m.title||"",className:"mt-1 block w-full",autoComplete:"title",handleChange:a=>s("title",a.target.value),required:!0}),e(u,{message:l.title,className:"mt-2"})]}),t("div",{className:"col-span-4",children:[e(i,{forInput:"command",value:"Command"}),e(c,{name:"command",className:"mt-1 block w-full",autoComplete:"command",value:m.command||"",handleChange:a=>s("command",a.target.value),required:!0}),e(u,{message:l.asn,className:"mt-2"})]})]}),e(E,{processing:v,children:"Update command"}),e(C,{onClick:()=>o(!0),type:"button",className:"inline-flex items-center px-5 py-2.5 ml-2 text-sm font-medium text-center text-white bg-red-700 rounded-lg focus:ring-4 focus:ring-red-200 dark:focus:ring-red-900 hover:bg-red-800",children:"Delete command"})]})})]}),e(p,{show:g,size:"md",children:e(p.Body,{children:t("div",{className:"text-center",children:[e("h3",{className:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this command?"}),t("div",{className:"flex justify-center gap-4",children:[e(h,{color:"failure",onClick:b,children:"Yes, I'm sure"}),e(h,{onClick:()=>o(!1),color:"gray",children:"No, cancel"})]})]})})})]})}export{z as default};
