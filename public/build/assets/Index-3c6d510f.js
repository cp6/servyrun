import{A as c}from"./AuthenticatedLayout-b0ac98cc.js";import{r as l,a as e,F as d,u as o,j as r,H as m}from"./app-7082a047.js";import{g as x}from"./index.esm-eebfcfab.js";import{R as u}from"./ResourceEmptyText-25c44e25.js";import{R as p}from"./Alert-af0dbb46.js";import{A as h}from"./AddButton-bf9b47af.js";import{T as f}from"./TealButton-9ca5476f.js";import{a as g}from"./axios-4a70c6fc.js";import{F as b}from"./index.esm-d4b60c73.js";import"./ApplicationLogo-db4f8950.js";import"./transition-eb04b526.js";import"./Toast-a9c7a83a.js";import"./Table-13305096.js";function w({resource:i}){const[a,s]=l.useState(null);async function t(n){return await(await g.get(route("db.connection.connect",n.id))).data}return l.useEffect(()=>{t(i).then(n=>{s(n.result)})},[]),e(d,{children:e(b,{className:(()=>a?"md:ml-2 ml-1 h-3 w-3 text-green-300 dark:text-green-400 inline":a===null?"md:ml-2 ml-1 h-3 w-3 text-gray-300 dark:text-gray-500 inline":"md:ml-2 ml-1 h-3 w-3 text-red-300 dark:text-red-400 inline")(),title:(()=>a?"Able to connect":a===null?"unknown":"NOT able to connect")()})})}function I({auth:i}){const a=o().props.alert,s=o().props.connections;return r(c,{auth:i,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"DB connections"}),children:[e(m,{title:"DB connections"}),r("div",{className:"py-8 px-2 mx-auto max-w-7xl lg:py-10",children:[r("div",{className:"flex flex-wrap gap-2 mb-4",children:[e(h,{href:route("db.connection.create"),children:"Add DB connection"}),r(f,{href:route("db.index"),children:[e(x,{className:"mr-2 h-5 w-5"}),"Databases"]})]}),e(p,{details:a}),e("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-4 sm:gap-4",children:s.length>0?s.map(t=>e("section",{className:"bg-white/50 dark:bg-gray-700 rounded-lg shadow-sm hover:cursor-pointer",onClick:n=>window.location.href=route("db.connection.show",t.id),children:r("div",{className:"md:py-2 py-4 px-2 mx-auto max-w-6xl",children:[r("div",{className:"flex items-center justify-between mb-3",children:[e("div",{}),e("small",{className:"text-end",children:e(w,{resource:t})})]}),r("div",{className:"flex flex-col items-center pb-3",children:[e("h5",{className:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:t.host}),e("span",{className:"text-md text-gray-500 dark:text-gray-400",children:t.title}),e("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:t.username})]})]})},t.id)):e(u,{resource:"database connections"})})]})]})}export{I as default};
